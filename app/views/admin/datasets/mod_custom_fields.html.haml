.control-group{ "ng-app" => "DatasetFieldForm", "ng-controller" => "DatasetFieldCtrl", "ng-init" => "init(#{render partial: "dataset_url_fields", formats: :json}, #{render partial: "dataset_file_fields", formats: :json})"}
  .control-group{ "ng-repeat" => "form in urlFieldForms" }

    %label.control-label Url
    .controls
      .control-group
        %label.control-label{:for => "urlFieldForms[{{ urlFieldFormIndex() }}][label]"} Label
        .controls
          %select{ "ui-select2" => true, "ng-model" => "form.label", "name" => "urlFieldForms[{{ urlFieldFormIndex() }}][label]"}
            %option{ :value => "form.label", "ng-selected" => "form.label == form.label" }
              Access data at ArcGIS.com
            %option{ :value => "form.label", "ng-selected" => "form.label == form.label", "ng-click" => "urlLabelInput = false"}
              Read online
            %option{ :value => "form.label", "ng-selected" => "form.label == form.label", "ng-click" => "urlLabelInput = false"}
              View summary metadata
            %option{ :value => "form.label", "ng-selected" => "form.label == form.label", "ng-click" => "urlLabelInputi = false"}
              Visit the site
            %option{"ng-selected" => "urlLabelInput", "ng-click" => "showUrlLabelInput()" }
              Add a new label
        .controls
          %input{ :type => "text", "ng-model" => "form.label", :name => "urlFieldForms[{{ urlFieldFormIndex() }}][label]", "ng-show" => "urlLabelInput"}
          %input{ :type => "hidden", "ng-model" => "form.id", :name => "urlFieldForms[{{ urlFieldFormIndex() }}][id]", "ng-if" => "form.id", "value" => "{{ form.id }}"}

      .control-group
        %label.control-label{:for => "urlFieldForms[{{ urlFieldFormIndex() }}][url]"} Url
        .controls
          %input{ :type => "text", "ng-model" => "form.url", :name => "urlFieldForms[{{ urlFieldFormIndex() }}][url]"}
      .control-group
        .controls
          %input.btn.btn-danger{:type => "button", :value => "Remove", "ng-click" => "removeUrlFieldForm()"}

  .control-group
    .controls
      %input.btn{:type => "button", :value => "Add a link", "ng-click" => "addUrlField()"}


  .control-group{ "ng-repeat" => "form in fileFieldForms" }

    %label.control-label File 
    .controls
      .control-group
        %label.control-label{:for => "fileFieldForms[{{ urlFieldFormIndex() }}][label]"} Label
        .controls
          %input{ :type => "hidden", "ng-model" => "form.id", :name => "fileFieldForms[{{ fileFieldFormIndex() }}][id]", "ng-if" => "form.id", "value" => "{{ form.id }}"}
          %select{ "ui-select2" => true, "ng-model" => "form.label", "name" => "fileFieldForms[{{ fileFieldFormIndex() }}][label]"}
            %option{ :value => "form.label", "ng-selected" => "form.label == form.label"}
              Download 
            %option{"ng-selected" => "fileLabelInput = true" }
              Add a new label...
        .controls
          %input{ :type => "text", "ng-model" => "form.label", :name => "fileFieldForms[{{ urlFieldFormIndex() }}][label]", "ng-show" => "fileLabelInput" }

      .control-group
        %label.control-label{:for => "fileFieldForms[{{ fileFieldFormIndex() }}][file]"} File
        .controls
          %input{ :type => "file", "ng-model" => "form.file", :name => "fileFieldForms[{{ fileFieldFormIndex() }}][file]"}
      .control-group
        .controls
          %input.btn.btn-danger{:type => "button", :value => "Remove", "ng-click" => "removeFileFieldForm()"}

  .control-group
    .controls
      %input.btn{:type => "button", :value => "Add a file", "ng-click" => "addFileField()"}
